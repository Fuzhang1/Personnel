# fe前端开发

## 运行说明
项目在安装依赖后使用npm run build将相关文件打包至server/static。再在启动服务端后，访问127.0.0.1:3001
+ 登录账号如下
+  账号: admin 密码: 123456
+  账号: root  密码: 123456 (本账号已内置5条数据)

## 项目结构

### component(组件库)
在component中，我们维护在页面pages中所用到的各个组件
+ AddButton: 添加用户按钮及弹出的添加信息表单
+ ExitAvg: 右上角头像及退出登录的下拉菜单
+ InfoTable: 维护人员信息的表格,为项目的主体展示部分
+ Menuleft: 管理系统左侧的菜单栏，包含人员管理与关于
+ SearchForm: 维护与获取搜索信息的表单
+ SetButton: 包含查看、编辑、删除三选项下拉菜单的设置按钮，在其中完成了查看、编辑与删除的数据操作、弹窗与跳转逻辑。

### pages(页面)
在pages中，我们拼装组件，展示人员管理系统的各个页面。
+ Login: 登录界面,包含输入账号、密码的表单，账号密码的正确性由后端判断，当回调显示密码错误时，在表单上提示密码错误，成功则跳转至主页。路由设置为/Login。

+ System: 系统的背景，包含页头的信息栏、侧边的导航栏，以及显示信息的主体部分。此处的主体部分使用Outlet进行占位，如此在进行子路由切换时，只需重新渲染主体部分即可。路由设置为/Main
  
+ Main: 展示人员信息，位于系统的主体部分，在其中渲染展示人员管理的相关信息。路由设置为/Main的子路由""。
  
+ Person: 展示人员的详细信息，位于系统的主题部分，在其中展示人员的姓名，电话等具体信息，通过左上角的人员管理可以返回上级界面。路由设置为/Main的子路由"Person/:key"，路由中包含key，可以在Person界面中使用Params获取key值从而展示准确的人员信息。
  
+ About: 展示本系统所实现的功能，路由设置为/Main的子路由"About"。
  
+ NotFound: 404界面，当路由跳转出错时将来到此界面。

### sevice
service中包含api.ts，是前后端连接的重要模块，在api.ts中，我们基于各种需求使用axios向服务端请求数据，从而实现了各个数据请求的相关函数。

### type.ts
本文件中定义了人员管理的重要数据类型接口Info，包括人员的头像、姓名、专业、年级、性别、电话、邮箱信息。同时其中还定义了根据表单内容构建Info的函数createInfo及根据key值搜索Info的函数searchByKey。

### router.tsx
本文件为路由设置的相关模块，其中路由的具体设置已在pages中提到。

## 开发思路
+ 首先开发并未引入后端的系统版本，此时使用localStorage代替后端进行信息存储。在这个时段，首先实现网页中添加、搜索、删除、跳转等逻辑，使得网页能够正常使用。
  
+ 引入服务端进行数据请求与异步操作，将与数据请求与修改相关的模块改为使用axios进行。

## 实现功能
+ 人员管理: 数据采用了分页请求的方式
+ 用户添加: 对于用户信息的输入进行了校验
+ 用户编辑: 对于用户信息的修改进行了校验
+ 用户删除: 对于用户的删除操作二次确认
+ 详情信息: 点击查看进入详情信息，点击左上人员管理返回
+ 根据名字搜索用户: 在搜索结果处进行添加会刷新界面，而删除和修改操作会在搜索结果的基础上修改页面
+ 搜索重置
+ 性别筛选: 根据性别对用户进行筛选

## 过程中的问题
+ 对于异步操作不熟练，导致数据使用完之后才加载的情况，使得数据出错，通过引入async与await解决。
+ 初次使用组件库，对于antd的相关api不熟悉，通过查阅文档和网络搜索相关的api与解决方案最终解决。